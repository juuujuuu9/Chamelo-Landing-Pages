{{ 'aura-technology-new.css' | asset_url | stylesheet_tag }}

<div class="Aura_technology_main_new">
  <div class="page-width">
    {%- for block in section.blocks -%}
      {%- if block.type == 'block' -%}
        <div class="Aura_technology_block_new" {{ block.shopify_attributes }}>
          {%- if block.settings.image != blank -%}
            <div class="Aura_technology_media_new">
              {{
                block.settings.image |
                image_url: width: 800 |
                image_tag: widths: '400, 600, 800',
                fetchpriority: 'lazy',
                class: 'Aura_technology_img_new'
              }}
            </div>
          {%- endif -%}
          <div class="Aura_technology_content_new">
            {%- if block.settings.heading != blank -%}
              <h2 class="Aura_technology_heading_new">{{ block.settings.heading }}</h2>
            {%- endif -%}
            {%- if block.settings.description != blank -%}
              <p class="Aura_technology_description_new">{{ block.settings.description }}</p>
            {%- endif -%}
            {%- if block.settings.button_text != blank and section.settings.button_link != blank -%}
              <a href="{{ section.settings.button_link }}" class="Aura_technology_button_new">{{ block.settings.button_text }}</a>
            {%- elsif block.settings.button_text != blank and block.settings.button_link != blank -%}
              <a href="{{ block.settings.button_link }}" class="Aura_technology_button_new">{{ block.settings.button_text }}</a>
            {%- endif -%}
          </div>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>
</div>

{% schema %}
  {
    "name": "Aura Technology",
    "class": "Aura_technology_section_new",
    "settings": [
      {
        "type": "url",
        "id": "button_link",
        "label": "Learn More Link (shared)",
        "info": "Used when block button text is set but no block link. Use /pages/innovation for consistency."
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Content Block",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Heading"
          },
          {
            "type": "textarea",
            "id": "description",
            "label": "Description"
          },
          {
            "type": "text",
            "id": "button_text",
            "label": "Button Text",
            "default": "Learn More"
          },
          {
            "type": "url",
            "id": "button_link",
            "label": "Button Link (overrides section link if set)"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Aura Technology",
        "blocks": [
          {
            "type": "block",
            "settings": {
              "heading": "Effortlessly Switch Up Your Style",
              "description": "Aura always on: The Chamelo AURA features a new always-on mode that automatically changes the tint of your goggles based on ambient light.",
              "button_text": "Learn More"
            }
          },
          {
            "type": "block",
            "settings": {
              "heading": "A Color For Every Mood",
              "description": "The Aura uses new technology to let you switch tints based on your preference, with a single tap.",
              "button_text": "Discover more"
            }
          }
        ]
      }
    ]
  }
{% endschema %}
